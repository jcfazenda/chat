{"ast":null,"code":"import { Router } from '@angular/router';\nimport { ApiService } from '../../api/api.service';\nimport { GenericsService } from '../../api/services/generics.service';\nimport { StorageService } from '../../api/services/storage.service';\nimport { HubConnectionBuilder, HttpTransportType } from '@aspnet/signalr';\nimport { Subject } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../api/services/storage.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../api/services/generics.service\";\nimport * as i4 from \"../../api/api.service\";\nimport * as i5 from \"@ngx-translate/core\";\nconst WAIT_UNTIL_ASPNETCORE_IS_READY_DELAY_IN_MS = 2000;\nexport let SidebarComponent = /*#__PURE__*/(() => {\n  class SidebarComponent {\n    constructor(storageService, router, genericsService, apiService, translate) {\n      this.storageService = storageService;\n      this.router = router;\n      this.genericsService = genericsService;\n      this.apiService = apiService;\n      this.translate = translate;\n      this.OrdemSidebar = false;\n      this.connectionEstablished = new Subject();\n      /* Translate */\n\n      translate.addLangs(['en-US', 'fr', 'pt']);\n      const browserLang = translate.getBrowserCultureLang();\n      translate.use(localStorage.getItem('translate') === null ? 'pt' : localStorage.getItem('translate'));\n      this.Usuario = JSON.parse(localStorage.getItem('currentUser'));\n      this.Hub = genericsService.HTTPConnection().api.filter(x => x.active === true)[0];\n\n      if (this._input === null) {\n        this.storageService.SetCurrent('login');\n        this.storageService.logoutUser();\n        window.location.reload();\n      }\n    }\n\n    ngOnInit() {\n      this.createConnection();\n    }\n\n    switchLang(lang) {\n      this.translate.use(lang);\n      this.storageService.SetTranslate(lang);\n    }\n\n    Goto(item) {\n      this.storageService.SetCurrent(item);\n      window.location.reload();\n      this.router.navigate(['/app']);\n    }\n\n    createConnection() {\n      this.hubConnection = new HubConnectionBuilder().withUrl(this.Hub.url + 'SignalR', {\n        skipNegotiation: true,\n        transport: HttpTransportType.WebSockets\n      }).build();\n      this.startConnection();\n      this.registerOnServerEvents(this.Usuario.id_Usuario);\n    }\n\n    startConnection() {\n      setTimeout(() => {\n        this.hubConnection.start().then(() => {\n          this.connectionEstablished.next(true);\n        });\n      }, WAIT_UNTIL_ASPNETCORE_IS_READY_DELAY_IN_MS);\n    }\n\n    registerOnServerEvents(id) {\n      /* verificar Chegou Mensagem pelo Hub SignalR */\n      this.hubConnection.on('SendMessage', data => {});\n    }\n\n  }\n\n  SidebarComponent.ɵfac = function SidebarComponent_Factory(t) {\n    return new (t || SidebarComponent)(i0.ɵɵdirectiveInject(i1.StorageService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.GenericsService), i0.ɵɵdirectiveInject(i4.ApiService), i0.ɵɵdirectiveInject(i5.TranslateService));\n  };\n\n  SidebarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SidebarComponent,\n    selectors: [[\"app-sidebar\"]],\n    decls: 45,\n    vars: 3,\n    consts: [[\"id\", \"right-sidebar\", 1, \"animated\", \"fadeInRight\", \"right-sidebar-toggle\"], [1, \"p-m\"], [\"id\", \"sidebar-close\", 1, \"right-sidebar-toggle\", \"sidebar-button\", \"btn\", \"btn-default\", \"m-b-md\"], [1, \"pe\", \"pe-7s-close\"], [1, \"text-center\"], [\"src\", \"assets/images/profile-default.png\", \"alt\", \"logo\", 1, \"img-circle\", \"m-b\"], [1, \"float-e-margins\"], [1, \"btn\", \"btn-default\"], [1, \"fa\", \"fa-linkedin-square\", \"fa-lg\"], [1, \"fa\", \"fa-facebook-square\", \"fa-lg\"], [1, \"fa\", \"fa-twitter-square\", \"fa-lg\"], [1, \"col-sm-12\"], [\"id\", \"sidebar-close\", 1, \"right-sidebar-toggle\", \"m-b-md\", 3, \"click\"], [\"src\", \"assets/images/bandeiras/brazil.png\", \"alt\", \"logo\", 1, \"img-circle\", \"m-b\"], [\"src\", \"assets/images/bandeiras/france.png\", \"alt\", \"logo\", 1, \"img-circle\", \"m-b\"], [\"src\", \"assets/images/bandeiras/united-states.png\", \"alt\", \"logo\", 1, \"img-circle\", \"m-b\"], [1, \"p-m\", \"bg-light\", \"border-bottom\", \"border-top\"], [1, \"col-sm-12\", \"text-center\"], [1, \"btn\", \"w-xs\", \"btn-warning2\", 3, \"click\"], [1, \"fa\", \"fa-plug\"], [1, \"m-t-md\"]],\n    template: function SidebarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\");\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵelementStart(3, \"button\", 2);\n        i0.ɵɵelement(4, \"i\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"a\");\n        i0.ɵɵelement(7, \"img\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 6);\n        i0.ɵɵelementStart(9, \"a\", 7);\n        i0.ɵɵelement(10, \"i\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(11, \" \\u00A0 \");\n        i0.ɵɵelementStart(12, \"a\", 7);\n        i0.ɵɵelement(13, \"i\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(14, \" \\u00A0 \");\n        i0.ɵɵelementStart(15, \"a\", 7);\n        i0.ɵɵelement(16, \"i\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\");\n        i0.ɵɵelementStart(18, \"h5\");\n        i0.ɵɵelementStart(19, \"b\");\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"small\");\n        i0.ɵɵtext(22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 11);\n        i0.ɵɵelement(24, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 6);\n        i0.ɵɵelementStart(26, \"a\", 12);\n        i0.ɵɵlistener(\"click\", function SidebarComponent_Template_a_click_26_listener() {\n          return ctx.switchLang(\"pt\");\n        });\n        i0.ɵɵelement(27, \"img\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(28, \" \\u00A0 \");\n        i0.ɵɵelementStart(29, \"a\", 12);\n        i0.ɵɵlistener(\"click\", function SidebarComponent_Template_a_click_29_listener() {\n          return ctx.switchLang(\"fr\");\n        });\n        i0.ɵɵelement(30, \"img\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(31, \" \\u00A0 \");\n        i0.ɵɵelementStart(32, \"a\", 12);\n        i0.ɵɵlistener(\"click\", function SidebarComponent_Template_a_click_32_listener() {\n          return ctx.switchLang(\"en-US\");\n        });\n        i0.ɵɵelement(33, \"img\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(34, \" \\u00A0 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(35, \"div\", 1);\n        i0.ɵɵelementStart(36, \"div\", 16);\n        i0.ɵɵelementStart(37, \"div\", 17);\n        i0.ɵɵelementStart(38, \"div\", 6);\n        i0.ɵɵelementStart(39, \"a\", 18);\n        i0.ɵɵlistener(\"click\", function SidebarComponent_Template_a_click_39_listener() {\n          return ctx.Goto(\"login\");\n        });\n        i0.ɵɵelement(40, \"i\", 19);\n        i0.ɵɵtext(41, \" DESLOGAR DO SISTEMA\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"div\", 20);\n        i0.ɵɵelement(43, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(44, \"div\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(20);\n        i0.ɵɵtextInterpolate2(\"\", ctx.Usuario.usuario_Nome, \" \", ctx.Usuario.usuario_Sobrenome, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.Usuario.usuario_Email);\n      }\n    },\n    styles: [\".DeepPink[_ngcontent-%COMP%]{color:#ff1493}.RoyalBlue[_ngcontent-%COMP%]{color:#4169e1}.SteelBlue[_ngcontent-%COMP%]{color:#4682b4}.DarkTurquoise[_ngcontent-%COMP%]{color:#00ced1}.Olive[_ngcontent-%COMP%]{color:olive}.Chocolate[_ngcontent-%COMP%]{color:#d2691e}.DarkMagenta[_ngcontent-%COMP%]{color:#8b008b}.Goldenrod[_ngcontent-%COMP%]{color:#daa520}.imgIco[_ngcontent-%COMP%]{width:80px!important}.imgIcom[_ngcontent-%COMP%]{width:50px!important}\"]\n  });\n  return SidebarComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}